<!doctype html>
<html>
  <head>

    <meta charset="utf-8"/>
    <title>Flat Surface Shader | Canvas Basic Example</title>
    <meta name="author" content="Matthew Wagerfield"/>

    <style>
    body {
      background: #111118;
      margin: 0;
    }
    .container {
      position: absolute;
      height: 100%;
      width: 100%;
    }
    </style>

  </head>
  <body>

    <div id="container" class="container">
    </div>

    <script src="../deploy/shard.js"></script>
    <script>

    var container = document.getElementById('container');
    var renderer = new SHARD.CanvasRenderer();
    var scene = new SHARD.Scene();
    var light = new SHARD.Light('#111122', '#FF0022');
    var geometry = new SHARD.Plane(600, 400, 6, 4);
    var material = new SHARD.Material('#FFFFFF', '#FFFFFF');
    var mesh = new SHARD.Mesh(geometry, material);
    var now, start = Date.now();

    function initialise() {
      scene.add(mesh);
      scene.add(light);
      container.appendChild(renderer.element);
      window.addEventListener('resize', resize);
    }

    function resize() {
      renderer.setSize(container.offsetWidth, container.offsetHeight);
    }

    function animate() {
      now = Date.now() - start;
      light.setPosition(150*Math.sin(now*0.005), 100*Math.cos(now*0.005), 60);
      renderer.render(scene);
      requestAnimationFrame(animate);
    }

    initialise();
    resize();
    animate();

    </script>

  </body>
</html>
